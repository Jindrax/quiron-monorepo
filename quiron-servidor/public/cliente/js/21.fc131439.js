(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{d099:function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-page",[o("q-card",[o("q-card-section",[e._v("Nuevo usuario")]),o("q-card-section",[o("mostrar-campo",{attrs:{etiqueta:"Identificacion"}},[o("q-input",{attrs:{type:"text"},model:{value:e.identificacion,callback:function(t){e.identificacion=t},expression:"identificacion"}})],1),o("mostrar-campo",{attrs:{etiqueta:"Nombres"}},[o("q-input",{attrs:{type:"text"},model:{value:e.nombres,callback:function(t){e.nombres=t},expression:"nombres"}})],1),o("mostrar-campo",{attrs:{etiqueta:"Apellidos"}},[o("q-input",{attrs:{type:"text"},model:{value:e.apellidos,callback:function(t){e.apellidos=t},expression:"apellidos"}})],1),o("mostrar-campo",{attrs:{etiqueta:"Fecha de nacimiento"}},[o("selector-fecha",{attrs:{tipo:"fecha"},model:{value:e.fecha_nacimiento,callback:function(t){e.fecha_nacimiento=t},expression:"fecha_nacimiento"}})],1),o("mostrar-campo",{attrs:{etiqueta:"Roles"}},[o("q-select",{attrs:{options:e.rolesOpciones},on:{filter:e.filtradoDeRoles,input:e.sumarRol},model:{value:e.roles_buffer,callback:function(t){e.roles_buffer=t},expression:"roles_buffer"}}),o("q-list",e._l(e.roles,(function(t,i){return o("q-item",{key:"rol"+i,attrs:{clickable:""},on:{click:function(t){return e.eliminarRol(i)}}},[o("q-item-section",[e._v(e._s(t.identificador))])],1)})),1)],1)],1),o("q-card-actions",[o("q-btn",{staticClass:"full-width",attrs:{label:"Crear usuario"},on:{click:e.crearUsuario}})],1),o("q-card-actions",[o("q-btn",{staticClass:"full-width",attrs:{label:"Test"},on:{click:e.test}})],1)],1)],1)},a=[],s=o("95ad"),n=o("5bfb"),r=o("c1c0"),c=o("75a0"),l=o("378a"),u=function(e,t,o,i){var a,s=arguments.length,n=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(n=(s<3?a(n):s>3?a(t,o,n):a(t,o))||n);return s>3&&n&&Object.defineProperty(t,o,n),n},f=function(e,t,o,i){function a(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,s){function n(e){try{c(i.next(e))}catch(t){s(t)}}function r(e){try{c(i["throw"](e))}catch(t){s(t)}}function c(e){e.done?o(e.value):a(e.value).then(n,r)}c((i=i.apply(e,t||[])).next())}))};let d=class extends s["e"]{constructor(){super(...arguments),this.identificacion="",this.nombres="",this.apellidos="",this.roles=[],this.roles_servidor=[],this.roles_buffer="",this.fecha_nacimiento=Date.now(),this.password="placeholder"}get rolesOpciones(){return this.roles_servidor.map((e=>({label:e.identificador,value:e})))}reiniciarDatos(){this.identificacion="",this.nombres="",this.apellidos="",this.roles=[],this.fecha_nacimiento=Date.now()}crearUsuario(){return f(this,void 0,void 0,(function*(){try{yield c["a"].post("usuario",{identificacion:this.identificacion,nombres:this.nombres,apellidos:this.apellidos,fecha_nacimiento:this.fecha_nacimiento,password:this.password,roles:this.roles}),this.reiniciarDatos(),this.$q.notify({message:"Usuario creado correctamente"})}catch(e){console.log(e)}}))}filtradoDeRoles(e,t,o){c["a"].get("roles",{},l["Rol"]).then((e=>{this.roles_servidor=e,t()})).catch((e=>{o()}))}sumarRol(e){this.roles.push(e.value),this.roles_buffer=""}eliminarRol(e){this.$delete(this.roles,e)}test(){return f(this,void 0,void 0,(function*(){console.log("Si estoy funcionando, el que no funciona es el servidor");try{const e=yield c["a"].get("usuario",{},l["Usuario"]);console.log(e)}catch(e){console.log(e)}}))}};d=u([Object(s["a"])({components:{MostrarCampo:n["a"],SelectorFecha:r["a"]}})],d);var h=d,p=h,m=o("a6c2"),b=o("505d"),v=o("5ce7"),q=o("7006"),_=o("a3be"),w=o("f636"),y=o("692f"),g=o("e0e9"),k=o("6c44"),x=o("84df"),R=o("ef9c"),Q=o("63c1"),C=o.n(Q),D=Object(m["a"])(p,i,a,!1,null,null,null);t["default"]=D.exports;C()(D,"components",{QPage:b["a"],QCard:v["a"],QCardSection:q["a"],QInput:_["a"],QSelect:w["a"],QList:y["a"],QItem:g["a"],QItemSection:k["a"],QCardActions:x["a"],QBtn:R["a"]})}}]);