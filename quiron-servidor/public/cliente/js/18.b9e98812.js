(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{5844:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("q-list",{attrs:{bordered:"",padding:"",separator:""}},[a("q-item",[a("q-item-section",[a("q-btn",{staticClass:"full-width q-px-xs",attrs:{label:"Buscar plantilla a editar",outline:""},on:{click:e.buscarPlantilla}})],1)],1),a("q-expansion-item",{attrs:{"expand-separator":"","header-class":"collapsible",label:"Contexto","switch-toggle-side":""}},e._l(e.contexto,(function(t){return a("q-expansion-item",{key:e.obtenerKey(t),attrs:{"expand-separator":"",label:t.identificador,"switch-toggle-side":""}},[a("q-card",{attrs:{bordered:""}},[a("q-card-section",[t.modelo!=={}?a("q-card",[a("q-card-section",{staticClass:"q-px-none"},e._l(t.modelo.elementos,(function(n,o){return a("campo",{key:"pc-"+n.etiqueta,attrs:{data:e.compendio,elemento:n,path:t.identificador,printable:!1}})})),1)],1):e._e()],1)],1)],1)})),1),e.plantilla.modelo!=={}?a("q-card",[a("q-card-section",{staticClass:"q-px-none"},e._l(e.plantilla.modelo.elementos,(function(t,n){return a("campo",{key:"pc-"+t.etiqueta,attrs:{data:e.compendio,elemento:t,path:e.plantilla.identificador,printable:!1}})})),1)],1):e._e(),a("q-item",[a("q-item-section",[a("q-btn",{staticClass:"col full-width",attrs:{label:"Guardar"},on:{click:e.test}})],1)],1)],1)],1)},o=[],i=a("95ad"),l=a("5bfb"),r=a("e2c2"),c=a("2548"),s=a.n(c),d=a("0da5"),p=a("dfbd"),u=a("9990"),f=function(e,t,a,n){var o,i=arguments.length,l=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,a,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(l=(i<3?o(l):i>3?o(t,a,l):o(t,a))||l);return i>3&&l&&Object.defineProperty(t,a,l),l},m=function(e,t,a,n){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,i){function l(e){try{c(n.next(e))}catch(t){i(t)}}function r(e){try{c(n["throw"](e))}catch(t){i(t)}}function c(e){e.done?a(e.value):o(e.value).then(l,r)}c((n=n.apply(e,t||[])).next())}))};let q=class extends i["e"]{constructor(){super(...arguments),this.plantilla=new s.a({}),this.contexto=[],this.store=Object(d["d"])(p["a"])}get compendio(){return this.store.compendio}test(){console.log(this.compendio)}reiniciarDatos(){this.plantilla=new s.a({})}buscarPlantilla(){let e={campos_busqueda:[{etiqueta:"Identificador",valor:"identificador"},{etiqueta:"Serial",valor:"serial"}],campos_presentacion:[{etiqueta:"Identificador",valor:"identificador"},{etiqueta:"Serial",valor:"serial"},{etiqueta:"Version",valor:"version"}],opciones_busqueda:{}};this.$q.dialog({component:r["a"],parent:this,endpoint:"plantilla",clase:s.a,opciones:e,persistent:!0}).onOk((e=>{console.log(e),this.store.nuevoCompendio(),this.contexto=e.relacionadas,this.plantilla=e})).onCancel((e=>{console.log(e)}))}mounted(){return m(this,void 0,void 0,(function*(){}))}obtenerKey(e){return"preview"+Date.now()+e.serial}};q=f([Object(i["a"])({components:{Campo:u["default"],MostrarCampo:l["a"]}})],q);var b=q,h=b,w=a("a6c2"),v=a("505d"),x=a("692f"),g=a("e0e9"),y=a("6c44"),C=a("ef9c"),_=a("953d"),k=a("5ce7"),Q=a("7006"),O=a("63c1"),j=a.n(O),P=Object(w["a"])(h,n,o,!1,null,null,null);t["default"]=P.exports;j()(P,"components",{QPage:v["a"],QList:x["a"],QItem:g["a"],QItemSection:y["a"],QBtn:C["a"],QExpansionItem:_["a"],QCard:k["a"],QCardSection:Q["a"]})}}]);