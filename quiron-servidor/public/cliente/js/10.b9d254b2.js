(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"6f2a":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",[n("div",[n("mostrar-campo",{attrs:{etiqueta:"Nombre"}},[n("q-input",{model:{value:e.nuevoCliente.nombre,callback:function(t){e.$set(e.nuevoCliente,"nombre",t)},expression:"nuevoCliente.nombre"}})],1),n("mostrar-campo",{attrs:{etiqueta:"Identificacion"}},[n("q-input",{model:{value:e.nuevoCliente.identificacion,callback:function(t){e.$set(e.nuevoCliente,"identificacion",t)},expression:"nuevoCliente.identificacion"}})],1),n("q-separator"),n("q-card",[n("q-card-section",[e._v("Contactos")]),n("q-card-section",[n("presentador-por-tabla",{attrs:{datos:e.nuevoCliente.contactos,esquema:["nombres","apellidos"]},on:{selected:e.eliminarContacto}})],1),n("q-card-actions",[n("q-btn",{staticClass:"full-width",attrs:{label:"Añadir Contacto"},on:{click:e.buscarContacto}})],1)],1),n("q-separator"),n("q-card",{staticClass:"q-card--bordered"},[n("q-card-section",[e._v("Instituciones")]),n("q-card-section",[n("presentador-por-tabla",{attrs:{datos:e.nuevoCliente.instituciones,esquema:["identificacion","direccion","ciudad"]},on:{selected:e.eliminarInstitucion}})],1),n("q-card-actions",[n("q-btn",{staticClass:"full-width",attrs:{label:"Añadir Institucion"},on:{click:e.buscarInstitucion}})],1)],1),e.nuevoCliente.instituciones.length>0?n("mostrar-campo",{attrs:{etiqueta:"Institucion Principal"}},[n("q-select",{attrs:{options:e.nuevoCliente.instituciones,"emit-value":"","map-options":"","option-label":"identificacion"},model:{value:e.nuevoCliente.institucionPrincipal,callback:function(t){e.$set(e.nuevoCliente,"institucionPrincipal",t)},expression:"nuevoCliente.institucionPrincipal"}})],1):e._e(),n("q-btn",{staticClass:"full-width",attrs:{label:"Crear Cliente"},on:{click:e.crearCliente}})],1)])},o=[],a=n("60a3"),c=n("5bfb"),s=n("764a"),r=n("ae1d"),l=n("8e85"),u=n("ab99"),d=n("75a0"),p=n("e2c2");const v={endpoint:"clientes/contactos",opciones:{campos_busqueda:[{etiqueta:"Nombres",valor:"nombres"},{etiqueta:"Apellidos",valor:"apellidos"},{etiqueta:"Identificacion",valor:"identificacion"}],campos_presentacion:[{etiqueta:"Nombres",valor:"nombres"},{etiqueta:"Apellidos",valor:"apellidos"},{etiqueta:"Identificacion",valor:"identificacion"}],opciones_busqueda:{}}};var f=n("c50a"),C=function(e,t,n,i){var o,a=arguments.length,c=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(t,n,c):o(t,n))||c);return a>3&&c&&Object.defineProperty(t,n,c),c},b=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function c(e){try{r(i.next(e))}catch(t){a(t)}}function s(e){try{r(i["throw"](e))}catch(t){a(t)}}function r(e){e.done?n(e.value):o(e.value).then(c,s)}r((i=i.apply(e,t||[])).next())}))};let m=class extends a["e"]{constructor(){super(...arguments),this.nuevoCliente=new s["Cliente"]({})}buscarContacto(){this.$q.dialog({component:p["a"],parent:this,endpoint:"clientes/contactos",clase:s["Contacto"],opciones:v.opciones,persistent:!0}).onOk((e=>{this.$set(this.nuevoCliente.contactos,this.nuevoCliente.contactos.length,e)})).onCancel((e=>{console.log(e)}))}buscarInstitucion(){return b(this,void 0,void 0,(function*(){const e=new f["c"]([]);try{const t=yield e.buscar();this.$set(this.nuevoCliente.instituciones,this.nuevoCliente.instituciones.length,t)}catch(t){console.log(t)}}))}eliminarContacto(e,t){this.$delete(this.nuevoCliente.contactos,t)}eliminarInstitucion(e,t){this.$delete(this.nuevoCliente.instituciones,t)}crearCliente(){return b(this,void 0,void 0,(function*(){yield d["a"].post("clientes",{cliente:this.nuevoCliente})}))}};m=C([Object(a["a"])({name:"crear-cliente-pagina",components:{PresentadorPorTabla:u["a"],CrearContacto:l["a"],CrearInstitucion:r["a"],MostrarCampo:c["a"]}})],m);var q=m,h=q,w=n("2877"),g=n("9989"),I=n("27f9"),y=n("eb85"),P=n("f09f"),k=n("a370"),$=n("4b7e"),Q=n("9c40"),_=n("ddd8"),x=n("eebe"),O=n.n(x),j=Object(w["a"])(h,i,o,!1,null,null,null);t["default"]=j.exports;O()(j,"components",{QPage:g["a"],QInput:I["a"],QSeparator:y["a"],QCard:P["a"],QCardSection:k["a"],QCardActions:$["a"],QBtn:Q["a"],QSelect:_["a"]})}}]);